{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { Component, useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Date } from \"react-native-web/dist/index\";\nimport { onChangeDate } from \"react-native-web/dist/index\";\nimport { number } from \"react-native-web/dist/index\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { onChangeText } from \"react-native-web/dist/index\";\nimport { onChangeNumber } from \"react-native-web/dist/index\";\nimport { String } from \"react-native-web/dist/index\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport SiguientBotonSiguienteRegistrarseeRegistrarse from \"../components/BotonSiguienteRegistrarse\";\nimport fondo from \"../assets/fondo.jpg\";\nimport BotonSiguienteRegistrarse from \"../components/BotonSiguienteRegistrarse\";\nimport { postRestablecer } from \"../axios/axiosClient\";\nimport { getMailDiferente } from \"../axios/axiosClient\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar RestablecerContraseña = function RestablecerContraseña(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState({\n    email: '',\n    password2: '',\n    password3: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      userState = _useState2[0],\n      setUserState = _useState2[1];\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      error = _React$useState2[0],\n      setError = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      disable = _React$useState4[0],\n      setDisable = _React$useState4[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      test = _useState4[0],\n      setTest = _useState4[1];\n\n  useEffect(function _callee() {\n    var rta;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(getMailDiferente());\n\n          case 2:\n            rta = _context.sent;\n            setTest(rta.data);\n            console.log(\"sdflksdjngfsangñdikdilgfhdudbfnidkf\", rta.data);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }, []);\n  return _jsx(View, {\n    children: _jsxs(ImageBackground, {\n      source: fondo,\n      style: styles.image,\n      children: [_jsx(Text, {\n        style: styles.titulo,\n        children: \"Restablecer\"\n      }), _jsx(Text, {\n        style: styles.titulo,\n        children: \"Contrase\\xF1a\"\n      }), _jsx(TextInput, {\n        style: styles.dato,\n        onChangeText: function onChangeText(text) {\n          return setUserState(_objectSpread(_objectSpread({}, userState), {}, {\n            email: text\n          }));\n        },\n        items: test.map(function (item) {\n          return {\n            value: item.email,\n            label: item.email\n          };\n        }),\n        setItems: setTest,\n        value: userState.email,\n        placeholder: \"Correo electronico\"\n      }), _jsx(TextInput, {\n        style: styles.dato,\n        onChangeText: function onChangeText(text) {\n          return setUserState(_objectSpread(_objectSpread({}, userState), {}, {\n            password2: text\n          }));\n        },\n        value: userState.password2,\n        placeholder: \"Nueva Contrase\\xF1a\",\n        secureTextEntry: true\n      }), _jsx(TextInput, {\n        style: styles.dato,\n        onChangeText: function onChangeText(text) {\n          return setUserState(_objectSpread(_objectSpread({}, userState), {}, {\n            password3: text\n          }));\n        },\n        value: userState.password3,\n        placeholder: \"Confirmar Contrase\\xF1a\",\n        secureTextEntry: true\n      }), error && _jsx(Text, {\n        style: styles.alerta,\n        children: \"Completar datos\"\n      }), _jsx(BotonSiguienteRegistrarse, {\n        text: \"SIGUIENTE\",\n        onPress: function _callee2() {\n          var mailConEseNombre;\n          return _regeneratorRuntime.async(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  setDisable(true);\n                  mailConEseNombre = test.filter(function (r) {\n                    return r.email === value;\n                  })[0];\n\n                  if (!(userState.email == '' || userState.password2 == '' || userState.password3 == '')) {\n                    _context2.next = 7;\n                    break;\n                  }\n\n                  setError(true);\n                  console.error(\"boton errrorrrrrr\", err);\n                  _context2.next = 14;\n                  break;\n\n                case 7:\n                  if (!(userState.password2 === userState.password3)) {\n                    _context2.next = 14;\n                    break;\n                  }\n\n                  console.log('se mando bien por qué no se fue al catch con un error');\n                  _context2.next = 11;\n                  return _regeneratorRuntime.awrap(postRestablecer(userState));\n\n                case 11:\n                  setDisable(true);\n                  setError(false);\n                  navigation.navigate('Inicio').catch(function (err) {\n                    setError(true);\n                    console.error(\"todo bien 7\", err);\n                    setDisable(false);\n                  });\n\n                case 14:\n                  setDisable(false);\n\n                case 15:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, null, null, null, Promise);\n        }\n      })]\n    })\n  });\n};\n\nexport default RestablecerContraseña;\nvar styles = StyleSheet.create({\n  titulo: {\n    top: '8%',\n    marginLeft: '-35%',\n    fontSize: 34\n  },\n  dato: {\n    fontSize: 18,\n    marginTop: '5%',\n    marginLeft: '0%',\n    width: '80%',\n    alignItems: 'center',\n    borderWidth: 2,\n    padding: '3%',\n    top: '8%',\n    backgroundColor: '#F4F4F4'\n  },\n  image: {\n    height: '100%',\n    width: '100%',\n    alignItems: 'center'\n  },\n  alerta: {\n    color: 'black',\n    textAlign: 'center',\n    top: '9%',\n    fontSize: 20,\n    width: '100%'\n  }\n});","map":{"version":3,"names":["React","Component","useEffect","useState","Date","onChangeDate","number","onChangeText","onChangeNumber","String","SiguientBotonSiguienteRegistrarseeRegistrarse","fondo","BotonSiguienteRegistrarse","postRestablecer","getMailDiferente","RestablecerContraseña","navigation","email","password2","password3","userState","setUserState","error","setError","disable","setDisable","test","setTest","rta","data","console","log","styles","image","titulo","dato","text","map","item","value","label","alerta","mailConEseNombre","filter","r","err","navigate","catch","StyleSheet","create","top","marginLeft","fontSize","marginTop","width","alignItems","borderWidth","padding","backgroundColor","height","color","textAlign"],"sources":["C:/Users/CasadelIP/Desktop/Frontend-pf/screens/RestablecerContraseña.jsx"],"sourcesContent":["import React, { Component, useEffect, useState } from 'react';\r\nimport { StyleSheet, Text, View, Date, onChangeDate, number, TextInput, onChangeText, onChangeNumber, String, ImageBackground } from 'react-native';\r\nimport SiguientBotonSiguienteRegistrarseeRegistrarse from \"../components/BotonSiguienteRegistrarse\";\r\nimport fondo from \"../assets/fondo.jpg\";\r\nimport BotonSiguienteRegistrarse from \"../components/BotonSiguienteRegistrarse\";\r\nimport { postRestablecer } from '../axios/axiosClient';\r\nimport { getMailDiferente } from '../axios/axiosClient';\r\n\r\nconst RestablecerContraseña = ({ navigation }) => {\r\n  const [userState, setUserState] = useState({\r\n    email: '',\r\n    password2: '',\r\n    password3: ''\r\n  });\r\n  const [error, setError] = React.useState(false);\r\n  const [disable, setDisable] = React.useState(false);\r\n  const [test, setTest] = useState([])\r\n\r\n  useEffect(async () => {\r\n    const rta = await getMailDiferente();\r\n    setTest(rta.data);\r\n    console.log(\"sdflksdjngfsangñdikdilgfhdudbfnidkf\", rta.data)\r\n  }, [])\r\n\r\n  return (\r\n\r\n    <View>\r\n\r\n      <ImageBackground source={fondo} style={styles.image}>\r\n\r\n        <Text style={styles.titulo}>Restablecer</Text>\r\n        <Text style={styles.titulo}>Contraseña</Text>\r\n\r\n        <TextInput\r\n          style={styles.dato}\r\n          onChangeText={text => setUserState({ ...userState, email: text })}\r\n          items={test.map((item) => { return ({ value: item.email, label: item.email }) })}\r\n          setItems={setTest}\r\n          value={userState.email}\r\n          placeholder=\"Correo electronico\"\r\n\r\n        />\r\n        <TextInput\r\n          style={styles.dato}\r\n          onChangeText={text => setUserState({ ...userState, password2: text })}\r\n          value={userState.password2}\r\n          placeholder=\"Nueva Contraseña\"\r\n          secureTextEntry={true}\r\n        />\r\n        <TextInput\r\n          style={styles.dato}\r\n          onChangeText={text => setUserState({ ...userState, password3: text })}\r\n          value={userState.password3}\r\n          placeholder=\"Confirmar Contraseña\"\r\n          secureTextEntry={true}\r\n\r\n        />\r\n\r\n        {error && <Text style={styles.alerta}>Completar datos</Text>}\r\n\r\n        <BotonSiguienteRegistrarse\r\n          text=\"SIGUIENTE\"\r\n          onPress={async () => {\r\n            setDisable(true)\r\n            const mailConEseNombre = test.filter(r => r.email === value)[0]\r\n\r\n            if (userState.email == '' || userState.password2 == '' || userState.password3 == '') { //si hay datos incompletos\r\n              setError(true)\r\n              console.error(\"boton errrorrrrrr\", err)\r\n\r\n            }else if (userState.password2 === userState.password3) {//si datos completos\r\n           \r\n              console.log('se mando bien por qué no se fue al catch con un error')\r\n              await postRestablecer(userState)\r\n\r\n              setDisable(true)\r\n              setError(false)\r\n              navigation.navigate('Inicio')\r\n\r\n                .catch((err) => {\r\n                  setError(true)\r\n                  console.error(\"todo bien 7\", err)\r\n                  setDisable(false)\r\n                });\r\n            }\r\n            setDisable(false)\r\n          }\r\n          }\r\n        />\r\n      </ImageBackground>\r\n    </View>\r\n  );\r\n}\r\n\r\nexport default RestablecerContraseña\r\n\r\nconst styles = StyleSheet.create({\r\n\r\n  titulo: {\r\n    top: '8%',\r\n    marginLeft: '-35%',\r\n    fontSize: 34,\r\n  },\r\n\r\n  dato: {\r\n    fontSize: 18,\r\n    marginTop: '5%',\r\n    marginLeft: '0%',\r\n    width: '80%',\r\n    alignItems: 'center',\r\n    borderWidth: 2,\r\n    padding: '3%',\r\n    top: '8%',\r\n    backgroundColor: '#F4F4F4',\r\n  },\r\n\r\n  image: {\r\n    height: '100%',\r\n    width: '100%',\r\n    alignItems: 'center',\r\n\r\n  },\r\n\r\n  alerta: {\r\n    color: 'black',\r\n    textAlign: 'center',\r\n    top: '9%',\r\n    fontSize: 20,\r\n    width: '100%'\r\n  },\r\n\r\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}